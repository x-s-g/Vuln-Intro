@@ -657,6 +657,9 @@ static int i740fb_check_var(struct fb_var_screeninfo *var, struct fb_info *info)
{
+	if (!var->pixclock)
+		return -EINVAL;
+
 	switch (var->bits_per_pixel) {
 	case 8:
 		var->red.offset	= var->green.offset = var->blue.offset = 0;

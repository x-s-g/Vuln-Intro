@@ -874,7 +874,6 @@ static struct nfp_cpp_area_cache *area_cache_get(struct nfp_cpp *cpp, int id,int addr, unsigned long *offset, int length)
 	}
 
 	/* Adjust the start address to be cache size aligned */
-	cache->id = id;
 	cache->addr = addr & ~(u64)(cache->size - 1);
 
 	/* Re-init to the new ID and address */
@@ -894,6 +893,8 @@ static struct nfp_cpp_area_cache *area_cache_get(struct nfp_cpp *cpp, int id,int addr, unsigned long *offset, int length)
 		return NULL;
 	}
 
+	cache->id = id;
+
 exit:
 	/* Adjust offset */
 	*offset = addr - cache->addr;

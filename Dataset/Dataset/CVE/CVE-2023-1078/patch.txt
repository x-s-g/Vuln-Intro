@@ -103,9 +103,9 @@ static void rds_rm_zerocopy_callback(struct rds_sock *rs,struct rds_znotifier *znotif)
 	spin_lock_irqsave(&q->lock, flags);
 	head = &q->zcookie_head;
 	if (!list_empty(head))
 	{
-		info = list_entry(head, rds_msg_zcopy_info,rs_zcookie_next);
-		if (info && rds_zcookie_add(info, cookie))
-       {
+		info = list_first_entry(head, rds_msg_zcopy_info,rs_zcookie_next);
+		if (rds_zcookie_add(info, cookie))
+       {
 			spin_unlock_irqrestore(&q->lock, flags);
 			kfree(rds_info_from_znotifier(znotif));
 			/* caller invokes rds_wake_sk_sleep() */
